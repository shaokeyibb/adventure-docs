<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MiniMessage &mdash; Adventure 4.9.3 文档</title><link rel="stylesheet" href="_static/css/kyori.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/tabs.js"></script>
        <script src="_static/translations.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="平台" href="platform/index.html" />
    <link rel="prev" title="书本" href="book.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Adventure
          </a>
              <div class="version">
                4.9.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">开始</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#id2">使用快照构建</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="audiences.html">听众 (Audiences)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="audiences.html#id1">指针</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="text.html">文本 (聊天组件)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="text.html#id2">创建组件</a></li>
<li class="toctree-l2"><a class="reference internal" href="text.html#id3">格式化组件</a></li>
<li class="toctree-l2"><a class="reference internal" href="text.html#id4">事件</a></li>
<li class="toctree-l2"><a class="reference internal" href="text.html#id5">序列化和反序列化组件</a></li>
<li class="toctree-l2"><a class="reference internal" href="text.html#id6">在你的应用程序中使用组件</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="serializer/index.html">文本序列化器</a><ul>
<li class="toctree-l2"><a class="reference internal" href="serializer/gson.html">Gson</a><ul>
<li class="toctree-l3"><a class="reference internal" href="serializer/gson.html#id1">用法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="serializer/gson.html#id2">我应该使用哪种序列化器?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="serializer/legacy.html">旧版风格 (Legacy)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="serializer/legacy.html#id1">用法</a></li>
<li class="toctree-l3"><a class="reference internal" href="serializer/legacy.html#rgb">RGB 支持</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="serializer/plain.html">纯文本 (Plain)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="serializer/plain.html#id1">用法</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bossbar.html">Boss 血条</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bossbar.html#id1">构造一个 Boss 血条</a></li>
<li class="toctree-l2"><a class="reference internal" href="bossbar.html#id2">更改一个已被激活的 Boss 血条</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sound.html">音效 (Sound)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sound.html#id1">构造一个音效</a></li>
<li class="toctree-l2"><a class="reference internal" href="sound.html#id2">播放一个音效</a></li>
<li class="toctree-l2"><a class="reference internal" href="sound.html#id3">停止一个音效</a></li>
<li class="toctree-l2"><a class="reference internal" href="sound.html#id4">创建一个自定义音效</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="title.html">标题</a><ul>
<li class="toctree-l2"><a class="reference internal" href="title.html#id2">构造一个标题</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="book.html">书本</a><ul>
<li class="toctree-l2"><a class="reference internal" href="book.html#id2">构造一个书本</a></li>
<li class="toctree-l2"><a class="reference internal" href="book.html#id3">有关书本的额外信息</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MiniMessage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">用法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">格式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">组件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">颜色</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">颜色 (详细)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoration">装饰 (Decoration)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">重置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">点击</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">悬浮</a></li>
<li class="toctree-l4"><a class="reference internal" href="#keybind">按键绑定 (Keybind)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#translatable">可翻译键 (Translatable)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#insertion">插入 (Insertion)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pre">Pre</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">彩虹色</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gradient">渐变色 (Gradient)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">字体</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#markdown">Markdown</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">Markdown 风格</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id18">占位符</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id19">模板</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">占位符解析器</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id21">自定义</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id22">转换</a></li>
<li class="toctree-l3"><a class="reference internal" href="#builder">Builder</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="platform/index.html">平台</a><ul>
<li class="toctree-l2"><a class="reference internal" href="platform/native.html">原生支持</a></li>
<li class="toctree-l2"><a class="reference internal" href="platform/bukkit.html">Bukkit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="platform/bukkit.html#id1">用法</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform/bukkit.html#id2">组件序列化器</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="platform/bungeecord.html">BungeeCord</a><ul>
<li class="toctree-l3"><a class="reference internal" href="platform/bungeecord.html#id1">用法</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform/bungeecord.html#id2">组件序列化器</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="platform/spongeapi.html">SpongeAPI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="platform/spongeapi.html#id1">用法</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="platform/fabric.html">Fabric</a><ul>
<li class="toctree-l3"><a class="reference internal" href="platform/fabric.html#id1">依赖</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform/fabric.html#id2">客户端</a><ul>
<li class="toctree-l4"><a class="reference internal" href="platform/fabric.html#localization">本地化 (Localization)</a></li>
<li class="toctree-l4"><a class="reference internal" href="platform/fabric.html#id3">指令</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="platform/fabric.html#id4">客户端</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform/fabric.html#id5">使用原生类型</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="platform/viaversion.html">ViaVersion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="migration/index.html">从其他 API 迁移到 Adventure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="migration/bungeecord-chat-api.html">从 BungeeCord Chat API 迁移</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migration/bungeecord-chat-api.html#audiences">Audiences</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration/bungeecord-chat-api.html#decoration-and-styling">Decoration and Styling</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration/bungeecord-chat-api.html#chat-colors">Chat Colors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="migration/bungeecord-chat-api.html#replacement-for-chatcolor">Replacement for <code class="docutils literal notranslate"><span class="pre">ChatColor</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="migration/bungeecord-chat-api.html#legacy-strings-can-t-be-constructed">Legacy strings can’t be constructed</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration/bungeecord-chat-api.html#chatcolor-stripcolor"><code class="docutils literal notranslate"><span class="pre">ChatColor.stripColor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="migration/bungeecord-chat-api.html#chatcolor-translatealternatecolorcodes"><code class="docutils literal notranslate"><span class="pre">ChatColor.translateAlternateColorCodes()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="migration/bungeecord-chat-api.html#differences-in-componentbuilder">Differences in <code class="docutils literal notranslate"><span class="pre">ComponentBuilder</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="migration/bungeecord-chat-api.html#immutability">Immutability</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration/bungeecord-chat-api.html#serializers">Serializers</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration/bungeecord-chat-api.html#backwards-compatibility">Backwards compatibility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="migration/text-3.x.html">从 text 3.x 迁移</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migration/text-3.x.html#a-word-of-caution">A word of caution</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration/text-3.x.html#breaking-changes-from-text-3-x">Breaking changes from text 3.x</a><ul>
<li class="toctree-l4"><a class="reference internal" href="migration/text-3.x.html#factory-methods-renamed">Factory methods renamed</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration/text-3.x.html#builder"><code class="docutils literal notranslate"><span class="pre">.builder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="migration/text-3.x.html#append-with-a-string-argument"><code class="docutils literal notranslate"><span class="pre">.append()</span></code> with a String argument</a></li>
<li class="toctree-l4"><a class="reference internal" href="migration/text-3.x.html#legacycomponentserializer"><code class="docutils literal notranslate"><span class="pre">LegacyComponentSerializer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="migration/text-3.x.html#textcolor-renamed-to-namedtextcolor"><code class="docutils literal notranslate"><span class="pre">TextColor</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">NamedTextColor</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="migration/text-3.x.html#serializer">Serializer</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Adventure</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>MiniMessage</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition danger">
<p class="admonition-title">危险</p>
<p>Adventure 文档目前仍为 <strong>尚在施工</strong> 状态，并且作为 <a class="reference external" href="https://jd.adventure.kyori.net">Javadocs</a> 的补充.
一些地方可能覆盖面有限，或可能不是完全最新的.
所有你有任何问题，欢迎加入我们的 <a class="reference external" href="https://discord.gg/MMfhJ8F">Discord</a>.</p>
</div>
<div class="section" id="minimessage">
<h1>MiniMessage<a class="headerlink" href="#minimessage" title="永久链接至标题"></a></h1>
<p>MiniMessage 是一种基于字符串的格式,
以一种易于编辑且人类可读 (human-readable) 的形式表示 Minecraft 聊天组件.</p>
<div class="section" id="id1">
<h2>用法<a class="headerlink" href="#id1" title="永久链接至标题"></a></h2>
<p>添加仓库</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-TWF2ZW4=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-TWF2ZW4=" name="TWF2ZW4=" role="tab" tabindex="0">Maven</button><button aria-controls="panel-0-R3JhZGxlIChHcm9vdnkp" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-R3JhZGxlIChHcm9vdnkp" name="R3JhZGxlIChHcm9vdnkp" role="tab" tabindex="-1">Gradle (Groovy)</button><button aria-controls="panel-0-R3JhZGxlIChLb3RsaW4p" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-R3JhZGxlIChLb3RsaW4p" name="R3JhZGxlIChLb3RsaW4p" role="tab" tabindex="-1">Gradle (Kotlin)</button></div><div aria-labelledby="tab-0-TWF2ZW4=" class="sphinx-tabs-panel group-tab" id="panel-0-TWF2ZW4=" name="TWF2ZW4=" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;repositories&gt;</span>
    <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;repository&gt;</span> <span class="c">&lt;!-- 对于快照构建 --&gt;</span>
      <span class="nt">&lt;id&gt;</span>sonatype-oss-snapshots<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;url&gt;</span>https://oss.sonatype.org/content/repositories/snapshots/<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/repository&gt;</span>
    <span class="c">&lt;!-- ... --&gt;</span>
<span class="nt">&lt;/repositories&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-R3JhZGxlIChHcm9vdnkp" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-R3JhZGxlIChHcm9vdnkp" name="R3JhZGxlIChHcm9vdnkp" role="tabpanel" tabindex="0"><div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">repositories</span> <span class="o">{</span>
   <span class="c1">// 对于快照构建</span>
   <span class="n">maven</span> <span class="o">{</span>
       <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;sonatype-oss-snapshots&quot;</span>
       <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://oss.sonatype.org/content/repositories/snapshots/&quot;</span>
   <span class="o">}</span>
   <span class="c1">// 对于发行版</span>
   <span class="n">mavenCentral</span><span class="o">()</span>
<span class="o">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-R3JhZGxlIChLb3RsaW4p" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-R3JhZGxlIChLb3RsaW4p" name="R3JhZGxlIChLb3RsaW4p" role="tabpanel" tabindex="0"><div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">repositories</span> <span class="p">{</span>
   <span class="c1">// 对于快照构建</span>
   <span class="n">maven</span><span class="p">(</span><span class="n">url</span> <span class="p">=</span> <span class="s">&quot;https://oss.sonatype.org/content/repositories/snapshots/&quot;</span><span class="p">)</span> <span class="p">{</span>
       <span class="n">name</span> <span class="p">=</span> <span class="s">&quot;sonatype-oss-snapshots&quot;</span>
   <span class="p">}</span>
   <span class="c1">// 对于发行版</span>
   <span class="n">mavenCentral</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</div>
</div><p>声明依赖:</p>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-TWF2ZW4=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-TWF2ZW4=" name="TWF2ZW4=" role="tab" tabindex="0">Maven</button><button aria-controls="panel-1-R3JhZGxlIChHcm9vdnkp" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-R3JhZGxlIChHcm9vdnkp" name="R3JhZGxlIChHcm9vdnkp" role="tab" tabindex="-1">Gradle (Groovy)</button><button aria-controls="panel-1-R3JhZGxlIChLb3RsaW4p" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-R3JhZGxlIChLb3RsaW4p" name="R3JhZGxlIChLb3RsaW4p" role="tab" tabindex="-1">Gradle (Kotlin)</button></div><div aria-labelledby="tab-1-TWF2ZW4=" class="sphinx-tabs-panel group-tab" id="panel-1-TWF2ZW4=" name="TWF2ZW4=" role="tabpanel" tabindex="0"><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
   <span class="nt">&lt;groupId&gt;</span>net.kyori<span class="nt">&lt;/groupId&gt;</span>
   <span class="nt">&lt;artifactId&gt;</span>adventure-text-minimessage<span class="nt">&lt;/artifactId&gt;</span>
   <span class="nt">&lt;version&gt;</span>4.1.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-R3JhZGxlIChHcm9vdnkp" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-R3JhZGxlIChHcm9vdnkp" name="R3JhZGxlIChHcm9vdnkp" role="tabpanel" tabindex="0"><div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">dependencies</span> <span class="o">{</span>
   <span class="n">implementation</span> <span class="s2">&quot;net.kyori:adventure-text-minimessage:4.1.0-SNAPSHOT&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-R3JhZGxlIChLb3RsaW4p" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-R3JhZGxlIChLb3RsaW4p" name="R3JhZGxlIChLb3RsaW4p" role="tabpanel" tabindex="0"><div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">dependencies</span> <span class="p">{</span>
   <span class="n">implementation</span><span class="p">(</span><span class="s">&quot;net.kyori:adventure-text-minimessage:4.1.0-SNAPSHOT&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="永久链接至标题"></a></h2>
<p>MiniMessage 通过 <code class="docutils literal notranslate"><span class="pre">MiniMessage</span></code> 类暴露了一个简单的 API.</p>
<p>对于该接口存在两种不同的实例, <code class="docutils literal notranslate"><span class="pre">get()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">markdown()</span></code>, 后者提供基本的 Markdown 支持, 并额外提供 MiniMessage 支持. 更多信息可查看 <a class="reference internal" href="#markdown">Markdown</a> 一节.</p>
<p>可以通过 <a class="reference internal" href="#builder">Builder</a> 为 MiniMessage 添加额外的自定义.</p>
<p>MiniMessage 允许既允许你序列化组件为 MiniMessage 字符串, 也允许你粘贴/反序列化 MiniMessage 字符串为组件.</p>
</div>
<div class="section" id="id2">
<h2>格式<a class="headerlink" href="#id2" title="永久链接至标题"></a></h2>
<p>该依赖库使用标签 (tags). 你做的一切都被使用标签定义. 标签包含一个起始标签和一个结束标签 (<code class="docutils literal notranslate"><span class="pre">&lt;reset&gt;</span></code> 标签在这里是一个例外).
开始标签是强制性的 (显然如此), 而结束标签并不是.
<code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Hello</span> <span class="pre">&lt;blue&gt;World&lt;yellow&gt;!</span></code> 和 <code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Hello</span> <span class="pre">&lt;blue&gt;World&lt;/blue&gt;!</span></code> 甚至 <code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Hello</span> <span class="pre">&lt;/yellow&gt;&lt;blue&gt;World&lt;/blue&gt;&lt;yellow&gt;!&lt;/yellow&gt;</span></code> 所做的都是相同的.</p>
<p>一些标签拥有内部标签 (inner tags). 他们看起来像这样: <code class="docutils literal notranslate"><span class="pre">&lt;tag:inner&gt;stuff&lt;/tag&gt;</span></code>. 例如: <code class="docutils literal notranslate"><span class="pre">&lt;hover:show_text:&quot;&lt;red&gt;test:TEST&quot;&gt;TEST</span></code> 或者 <code class="docutils literal notranslate"><span class="pre">&lt;click:run_command:test&gt;TEST</span></code>
正如你所看到的, 有时候这些标签包含组件，有时则只是包含字符串. 具体请参阅下方的详细文档.</p>
<p>单引号 (<code class="docutils literal notranslate"><span class="pre">'</span></code>) 和双引号 (<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>) 是通用的, 但是为了保护智商, 请保持一致, 为你的消息选择其中一个使用. MiniMessage <em>应该</em> 很好的处理这些不匹配的引号.</p>
<p>组件尝试尽可能的与原版表示相接近.
使用 <a class="reference external" href="https://minecraft.gamepedia.com/Raw_JSON_text_format">minecraft wiki</a> 作为参考可能会很有用, 特别是在点击和悬浮事件的行为和值上.</p>
<div class="section" id="id3">
<h3>组件<a class="headerlink" href="#id3" title="永久链接至标题"></a></h3>
<div class="section" id="id4">
<h4>颜色<a class="headerlink" href="#id4" title="永久链接至标题"></a></h4>
<p>为后文上色</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;_colorname_&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_colorname_</span></code>, 所有的 minecraft 颜色常量 (参见 <a class="reference external" href="https://github.com/KyoriPowered/adventure/blob/master/api/src/main/java/net/kyori/adventure/text/format/NamedTextColor.java">这里</a>), 或是 hex 颜色</p></li>
</ul>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Hello</span> <span class="pre">&lt;blue&gt;World&lt;/blue&gt;!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;red&gt;This</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">&lt;green&gt;test!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;#00ff00&gt;R</span> <span class="pre">G</span> <span class="pre">B!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/wB32YpZ.png" src="https://i.imgur.com/wB32YpZ.png" />
<img alt="https://i.imgur.com/vsN3OHa.png" src="https://i.imgur.com/vsN3OHa.png" />
</div>
<div class="section" id="id6">
<h4>颜色 (详细)<a class="headerlink" href="#id6" title="永久链接至标题"></a></h4>
<p>使用更详细的方式定义颜色</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;color:_colorNameOrHex_&gt;</span></code></p>
</dd>
<dt>别名</dt><dd><p><code class="docutils literal notranslate"><span class="pre">colour</span></code>, <code class="docutils literal notranslate"><span class="pre">c</span></code></p>
</dd>
<dt>参数</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_colorNameOrHex_</span></code>, 可以是上面的所有值 (包括已命名的颜色和 hex 颜色)</p></li>
</ul>
</dd>
<dt>Examples</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;color:yellow&gt;Hello</span> <span class="pre">&lt;color:blue&gt;World&lt;/color:blue&gt;!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;color:#FF5555&gt;This</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">&lt;color:#55FF55&gt;test!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/wB32YpZ.png" src="https://i.imgur.com/wB32YpZ.png" />
<img alt="https://i.imgur.com/vsN3OHa.png" src="https://i.imgur.com/vsN3OHa.png" />
</div>
<div class="section" id="decoration">
<h4>装饰 (Decoration)<a class="headerlink" href="#decoration" title="永久链接至标题"></a></h4>
<p>装饰后文</p>
<dl>
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;_decorationname_&gt;</span></code></p>
</dd>
<dt>参数:</dt><dd><ul>
<li><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">_decorationname_</span></code> , 所有 minecraft 装饰 (<a class="reference external" href="https://github.com/KyoriPowered/adventure/blob/master/api/src/main/java/net/kyori/adventure/text/format/TextDecoration.java">参见这里</a>)</div>
<div class="line">别名有 <code class="docutils literal notranslate"><span class="pre">strikethrough</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">st</span></code>, <code class="docutils literal notranslate"><span class="pre">obfuscated</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">obf</span></code>, <code class="docutils literal notranslate"><span class="pre">italic</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">em</span></code> 或是 <code class="docutils literal notranslate"><span class="pre">i</span></code> 以及 <code class="docutils literal notranslate"><span class="pre">bold</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">b</span></code> 可以使用</div>
</div>
</li>
</ul>
</dd>
<dt>示例:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;underlined&gt;This</span> <span class="pre">is</span> <span class="pre">&lt;bold&gt;important&lt;/bold&gt;!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/hREGXQy.png" src="https://i.imgur.com/hREGXQy.png" />
</div>
<div class="section" id="id8">
<h4>重置<a class="headerlink" href="#id8" title="永久链接至标题"></a></h4>
<p>重置所有颜色, 装饰, 悬浮等. 无结束标签</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;reset&gt;</span></code></p>
</dd>
<dt>别名</dt><dd><p><code class="docutils literal notranslate"><span class="pre">r</span></code></p>
</dd>
<dt>参数</dt><dd><p>无</p>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;&lt;bold&gt;Hello</span> <span class="pre">&lt;reset&gt;world!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/bjInUhj.png" src="https://i.imgur.com/bjInUhj.png" />
</div>
<div class="section" id="id9">
<h4>点击<a class="headerlink" href="#id9" title="永久链接至标题"></a></h4>
<p>允许当点击组件时做很多事情.</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;click:_action_:_value_&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_action_</span></code>, 点击事件类型, <a class="reference external" href="https://github.com/KyoriPowered/adventure/blob/master/api/src/main/java/net/kyori/adventure/text/event/ClickEvent.java">该列表</a> 之一</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_value_</span></code>, 特定事件的参数, 参考 <a class="reference external" href="https://minecraft.gamepedia.com/Raw_JSON_text_format">minecraft wiki</a></p></li>
</ul>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;click:run_command:/say</span> <span class="pre">hello&gt;Click&lt;/click&gt;</span> <span class="pre">to</span> <span class="pre">say</span> <span class="pre">hello</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Click</span> <span class="pre">&lt;click:copy_to_clipboard:Haha</span> <span class="pre">you</span> <span class="pre">suck&gt;</span> <span class="pre">this</span> <span class="pre">&lt;/click&gt;to</span> <span class="pre">copy</span> <span class="pre">your</span> <span class="pre">score!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/J82qOHn.png" src="https://i.imgur.com/J82qOHn.png" />
</div>
<div class="section" id="id12">
<h4>悬浮<a class="headerlink" href="#id12" title="永久链接至标题"></a></h4>
<p>允许当悬浮在组件上时做很多事情.</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;hover:_action_:_value_&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_action_</span></code>, 悬浮事件类型, <a class="reference external" href="https://github.com/KyoriPowered/adventure/blob/master/api/src/main/java/net/kyori/adventure/text/event/HoverEvent.java">该列表</a> 之一</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_value_</span></code>, 特定事件的参数, 参考 <a class="reference external" href="https://minecraft.gamepedia.com/Raw_JSON_text_format">minecraft wiki</a></p></li>
</ul>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;hover:show_text:'&lt;red&gt;test'&gt;TEST</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/VsHDPTI.png" src="https://i.imgur.com/VsHDPTI.png" />
</div>
<div class="section" id="keybind">
<h4>按键绑定 (Keybind)<a class="headerlink" href="#keybind" title="永久链接至标题"></a></h4>
<p>允许为行为显示配置过的按键</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;key:_key_&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_key_</span></code>, 该行为的按键绑定标识符</p></li>
</ul>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Press</span> <span class="pre">&lt;red&gt;&lt;key:key.jump&gt;</span> <span class="pre">to</span> <span class="pre">jump!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/iQmNDF6.png" src="https://i.imgur.com/iQmNDF6.png" />
</div>
<div class="section" id="translatable">
<h4>可翻译键 (Translatable)<a class="headerlink" href="#translatable" title="永久链接至标题"></a></h4>
<p>允许使用玩家的语言环境显示 miencraft 消息</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;lang:_key_:_value1_:_value2_&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_key_</span></code>, 翻译键</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_valueX_</span></code>, 被用作该键中占位符的可选参数 (他们最终将会出现在 json 中的 <code class="docutils literal notranslate"><span class="pre">with</span></code> 标签内)</p></li>
</ul>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">You</span> <span class="pre">should</span> <span class="pre">get</span> <span class="pre">a</span> <span class="pre">&lt;lang:block.minecraft.diamond_block&gt;!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;lang:commands.drop.success.single:'&lt;red&gt;1':'&lt;blue&gt;Stone'&gt;!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/mpdDMF6.png" src="https://i.imgur.com/mpdDMF6.png" />
<img alt="https://i.imgur.com/esWpnxm.png" src="https://i.imgur.com/esWpnxm.png" />
</div>
<div class="section" id="insertion">
<h4>插入 (Insertion)<a class="headerlink" href="#insertion" title="永久链接至标题"></a></h4>
<p>允许通过 shift 单机将文本插入聊天</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;insertion:_text_&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_text_</span></code>, 要插入的文本</p></li>
</ul>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Click</span> <span class="pre">&lt;insert:test&gt;this&lt;/insert&gt;</span> <span class="pre">to</span> <span class="pre">insert!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/Imhom84.png" src="https://i.imgur.com/Imhom84.png" />
</div>
<div class="section" id="pre">
<h4>Pre<a class="headerlink" href="#pre" title="永久链接至标题"></a></h4>
<p>在此标签中的标签不会被解析, 对于例如玩家输入很有用</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;pre&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><p>无</p>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;gray&gt;&lt;&lt;yellow&gt;&lt;player&gt;&lt;gray&gt;&gt;</span> <span class="pre">&lt;reset&gt;&lt;pre&gt;&lt;message&gt;&lt;/pre&gt;</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/pQqaJnD.png" src="https://i.imgur.com/pQqaJnD.png" />
</div>
<div class="section" id="id15">
<h4>彩虹色<a class="headerlink" href="#id15" title="永久链接至标题"></a></h4>
<p>彩虹色的文本?!</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;rainbow:[!][phase]&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><ul class="simple">
<li><p>相位, 可选的</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!</span></code>, 用于反转彩虹色的字面量, 可选的</p></li>
</ul>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Woo:</span> <span class="pre">&lt;rainbow&gt;||||||||||||||||||||||||&lt;/rainbow&gt;!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Woo:</span> <span class="pre">&lt;rainbow:!&gt;||||||||||||||||||||||||&lt;/rainbow&gt;!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Woo:</span> <span class="pre">&lt;rainbow:2&gt;||||||||||||||||||||||||&lt;/rainbow&gt;!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Woo:</span> <span class="pre">&lt;rainbow:!2&gt;||||||||||||||||||||||||&lt;/rainbow&gt;!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/Ertlk2G.png" src="https://i.imgur.com/Ertlk2G.png" />
</div>
<div class="section" id="gradient">
<h4>渐变色 (Gradient)<a class="headerlink" href="#gradient" title="永久链接至标题"></a></h4>
<p>渐变色的文本</p>
<dl class="simple">
<dt>标签</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;gradient:[color1]:[color...]:[phase]&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><p>含有 1 到 n 个颜色的列表, hex 或 已命名的顔色以及一个可选择相位参数 (范围从 -1 到 1) 允许你移动渐变, 创建动画。</p>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Woo:</span> <span class="pre">&lt;gradient&gt;||||||||||||||||||||||||&lt;/gradient&gt;!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Woo:</span> <span class="pre">&lt;gradient:#5e4fa2:#f79459&gt;||||||||||||||||||||||||&lt;/gradient&gt;!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Woo:</span> <span class="pre">&lt;gradient:#5e4fa2:#f79459:red&gt;||||||||||||||||||||||||&lt;/gradient&gt;!</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;yellow&gt;Woo:</span> <span class="pre">&lt;gradient:green:blue&gt;||||||||||||||||||||||||&lt;/gradient&gt;!</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/8qYHCWk.png" src="https://i.imgur.com/8qYHCWk.png" />
</div>
<div class="section" id="id16">
<h4>字体<a class="headerlink" href="#id16" title="永久链接至标题"></a></h4>
<p>允许改变文本的字体</p>
<dl class="simple">
<dt>Tag</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;font:key&gt;</span></code></p>
</dd>
<dt>参数</dt><dd><p>字体的命名空间键 (namespaced key), 默认为 <code class="docutils literal notranslate"><span class="pre">minecraft</span></code></p>
</dd>
<dt>示例</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Nothing</span> <span class="pre">&lt;font:uniform&gt;Uniform</span> <span class="pre">&lt;font:alt&gt;Alt</span>&#160; <span class="pre">&lt;/font&gt;</span> <span class="pre">Uniform</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;font:myfont:custom_font&gt;Uses</span> <span class="pre">a</span> <span class="pre">custom</span> <span class="pre">font</span> <span class="pre">from</span> <span class="pre">a</span> <span class="pre">resource</span> <span class="pre">pack&lt;/font&gt;</span></code></p></li>
</ul>
</dd>
</dl>
<img alt="https://i.imgur.com/0SjeMQm.png" src="https://i.imgur.com/0SjeMQm.png" />
</div>
</div>
</div>
<div class="section" id="markdown">
<h2>Markdown<a class="headerlink" href="#markdown" title="永久链接至标题"></a></h2>
<p>MiniMessage 还包含一个非常简单的 markdown 拓展. 你可以通过调用 <code class="docutils literal notranslate"><span class="pre">MiniMessage.markdown()</span></code> 开启它或者通过使用 <a class="reference internal" href="#builder">Builder</a>.</p>
<p>注意: 当你调用 <code class="docutils literal notranslate"><span class="pre">escapeTokens``时,</span> <span class="pre">Markdown</span> <span class="pre">不会被转义,</span> <span class="pre">然而</span> <span class="pre">``stripTokens</span></code> 可以正常工作.</p>
<p>在默认情况下, markdown 解析器支持以下标记:</p>
<ul>
<li><dl>
<dt>加粗:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">**bold**</span></code> 将被转换为 <code class="docutils literal notranslate"><span class="pre">&lt;bold&gt;bold&lt;/bold&gt;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">__bold__</span></code> 也将被转换为 <code class="docutils literal notranslate"><span class="pre">&lt;bold&gt;bold&lt;/bold&gt;</span></code></p>
</dd>
</dl>
</li>
<li><dl>
<dt>斜体:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">*italic*</span></code> 将被转换为 <code class="docutils literal notranslate"><span class="pre">&lt;italic&gt;italic&lt;/italic&gt;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">_italic_</span></code> 也将被转换为 <code class="docutils literal notranslate"><span class="pre">&lt;italic&gt;italic&lt;/italic&gt;</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>下划线:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">~~underline~~</span></code> 将被转换为 <code class="docutils literal notranslate"><span class="pre">&lt;underlined&gt;underline&lt;/underlined&gt;</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>随机字符:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">||obfuscated||</span></code> 将被转换为 <code class="docutils literal notranslate"><span class="pre">&lt;obfuscated&gt;obfuscated&lt;/obfuscated&gt;</span></code></p>
</dd>
</dl>
</li>
</ul>
<p>然而, 这些标记有一些奇怪, 但现在改变它们已经太晚了, 这也就是为什么有:</p>
<div class="section" id="id17">
<h3>Markdown 风格<a class="headerlink" href="#id17" title="永久链接至标题"></a></h3>
<p>你上面看到的是默认/遗留版本的风格. 它很有可能最终被移除.</p>
<p>要想使用不同的 markdown 风格, 你可以使用 <code class="docutils literal notranslate"><span class="pre">MiniMessage.withMarkdownFlavor(DiscordFlavor.get())</span></code> 或者 <a class="reference internal" href="#builder">Builder</a>.</p>
<p>discord 风格工作起来像是这样: <code class="docutils literal notranslate"><span class="pre">**bold**,</span> <span class="pre">*italic*,</span> <span class="pre">__underline__,</span> <span class="pre">~~strikethrough~~,</span> <span class="pre">||obfusctated||</span></code></p>
<p>github 工作起来像是这样: <code class="docutils literal notranslate"><span class="pre">**bold**,</span> <span class="pre">*italic*,</span> <span class="pre">~~strikethrough~~</span></code></p>
<p>额外的, 你可以实现你自己的 markdown 风格. 你可以查看内置的这些风格作为参考!</p>
</div>
</div>
<div class="section" id="id18">
<h2>占位符<a class="headerlink" href="#id18" title="永久链接至标题"></a></h2>
<p>MiniMessage 为占位符提供两个系统. 这依赖于你怎么算的. 也可以说是 4 个.</p>
<p>最简单的一个系统是简单的字符串替换:
<code class="docutils literal notranslate"><span class="pre">MiniMessage.get().parse(&quot;&lt;gray&gt;Hello</span> <span class="pre">&lt;name&gt;&quot;,</span> <span class="pre">&quot;name&quot;,</span> <span class="pre">&quot;MiniDigger&quot;)</span></code></p>
<p>正如你所看到的, 占位符在消息中被定义为类似于普通标签的样子, 并且被一个键值对列表所解析 (你也可以传入 <code class="docutils literal notranslate"><span class="pre">Map&lt;String,</span> <span class="pre">String&gt;</span></code> 到这里).</p>
<dl>
<dt>这些消息中的占位符会在任何其他标签解析前被解析. 这意味着替换的内容也可以包含 MiniMessage 标签:</dt><dd><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;MiniDigger&quot;</span><span class="p">;</span>
<span class="n">String</span> <span class="n">rank</span> <span class="o">=</span> <span class="s">&quot;&lt;red&gt;[ADMIN]&lt;/red&gt;&quot;</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">placeholders</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">placeholders</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="n">rank</span> <span class="o">+</span> <span class="n">name</span><span class="p">);</span>
<span class="n">MiniMessage</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;&lt;gray&gt;Hello &lt;name&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="n">placeholders</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<div class="section" id="id19">
<h3>模板<a class="headerlink" href="#id19" title="永久链接至标题"></a></h3>
<p>第二个系统, 模板系统, 允许你选择是使用字符串作为替换的内容使用还是完整的组件.
由于它们是在主解析循环中被执行的, 因此以字符串作为替换内容时字符串不能包含任何 MiniMessage 标签!</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">MiniMessage</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;&lt;gray&gt;Hello &lt;name&gt;&quot;</span><span class="p">,</span> <span class="n">Template</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="n">Component</span><span class="p">.</span><span class="na">text</span><span class="p">(</span><span class="s">&quot;TEST&quot;</span><span class="p">).</span><span class="na">color</span><span class="p">(</span><span class="n">NamedTextColor</span><span class="p">.</span><span class="na">RED</span><span class="p">)));</span>
<span class="n">MiniMessage</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;&lt;gray&gt;Hello &lt;name&gt;&quot;</span><span class="p">,</span> <span class="n">Template</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="s">&quot;TEST&quot;</span><span class="p">));</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Template</span><span class="o">&gt;</span> <span class="n">templates</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Template</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="s">&quot;TEST&quot;</span><span class="p">),</span> <span class="n">Template</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;name2&quot;</span><span class="p">,</span> <span class="s">&quot;TEST&quot;</span><span class="p">));</span>
<span class="n">MiniMessage</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;&lt;gray&gt;Hello &lt;name&gt; and &lt;name2&gt;&quot;</span><span class="p">,</span> <span class="n">Template</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="s">&quot;TEST&quot;</span><span class="p">));</span>
</pre></div>
</div>
<p>这些非常强大的功能允许你很容易的从其他地方 (例如一个 itemstack 或是一个占位符 API) 获得组件, 然后将他们包含在你的消息中.</p>
</div>
<div class="section" id="id20">
<h3>占位符解析器<a class="headerlink" href="#id20" title="永久链接至标题"></a></h3>
<p>为了使处理 (来自外部的或来自内部的) 占位符 API 更加容易, MiniMessage 允许你提供一个占位符解析器.</p>
<p>一个占位符解析器只是一个 <code class="docutils literal notranslate"><span class="pre">Function&lt;String,</span> <span class="pre">ComponentLike&gt;</span></code>, 允许你无需事先定义标签而处理它们.
当你解析占位符时, 只需要返回一个 Component, 否则返回一个 null.</p>
<p>一个使用 builder api 定义这样一个解析器 (更多信息请见下方的 <a class="reference internal" href="#builder">Builder</a> 一节):</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Function</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">ComponentLike</span><span class="o">&gt;</span> <span class="n">resolver</span> <span class="o">=</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="na">equalsIgnoreCase</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Component</span><span class="p">.</span><span class="na">text</span><span class="p">(</span><span class="s">&quot;TEST&quot;</span><span class="p">).</span><span class="na">color</span><span class="p">(</span><span class="n">NamedTextColor</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">Component</span> <span class="n">result</span> <span class="o">=</span> <span class="n">MiniMessage</span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">placeholderResolver</span><span class="p">(</span><span class="n">resolver</span><span class="p">).</span><span class="na">build</span><span class="p">().</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;&lt;green&gt;&lt;bold&gt;&lt;test&gt;&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id21">
<h2>自定义<a class="headerlink" href="#id21" title="永久链接至标题"></a></h2>
<p>MiniMessage 被设计为可拓展, 可配置和可调整的, 以满足你的需求.</p>
<div class="section" id="id22">
<h3>转换<a class="headerlink" href="#id22" title="永久链接至标题"></a></h3>
<p>At the core, its build around the concept of transformations. A transformation is a object, that transforms a component, by changing its style or adding events, some even delete the original component and replace it with new ones.
Explaining all possibilities would be out of scope for this documentation, if you are interested in implementing your own transformations, look at the inbuild ones as a guide.</p>
<p>When the parser encounters a start tag, it will look it up in the transformation registry, and if it finds something, the transformation will be loaded (as in, initialized with the tag name and its parameters) and then added to a list.
When the parser then encounters a string, it will apply all transformations onto that tag.
When the parser encounters a close tag, the transformation for that tag will be removed from the list again, so that further strings will not be transformed anymore.</p>
<p>Transformations are registered into the transformation registry using transformation types.
A transformation type defines a predicate, to check if the given tag can be parsed by the transformation, and a transformation parser, which handles initialization of transformations.</p>
<p>MiniMessage allows you to pass your own transformation registry, which allows you to both disable inbuild transformation types, only allowing a few transformation types or even passing your own transformation types.
MiniMessage also provides convenience methods to do that:
<code class="docutils literal notranslate"><span class="pre">MiniMessage.withTransformations(TransformationType.COLOR).parse(&quot;&lt;green&gt;&lt;bold&gt;Hai&quot;)</span> <span class="pre">==</span> <span class="pre">Component.text(&quot;&lt;bold&gt;Hai&quot;,</span> <span class="pre">NamedTextColor.GREEN)</span></code>
Bold transformation isn’t enabled -&gt; bold tag is not parsed.</p>
</div>
<div class="section" id="builder">
<h3>Builder<a class="headerlink" href="#builder" title="永久链接至标题"></a></h3>
<p>为了使自定义以 MiniMessage 更加方便, 我们提供了一个 Builder. 用途不言自明:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">MiniMessage</span> <span class="n">minimessage</span> <span class="o">=</span> <span class="n">MiniMessage</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
    <span class="p">.</span><span class="na">removeDefaultTransformations</span><span class="p">()</span>
    <span class="p">.</span><span class="na">transformation</span><span class="p">(</span><span class="n">TransformationType</span><span class="p">.</span><span class="na">COLOR</span><span class="p">)</span>
    <span class="p">.</span><span class="na">transformation</span><span class="p">(</span><span class="n">TransformationType</span><span class="p">.</span><span class="na">DECORATION</span><span class="p">)</span>
    <span class="p">.</span><span class="na">markdown</span><span class="p">()</span>
    <span class="p">.</span><span class="na">markdownFlavor</span><span class="p">(</span><span class="n">DiscordFlavor</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
    <span class="p">.</span><span class="na">placeholderResolver</span><span class="p">(</span><span class="k">this</span><span class="p">::</span><span class="n">resolvePlaceholder</span><span class="p">)</span>
    <span class="p">.</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
<p>小贴士: 只实例化一次 Minimessage 示例, 并将其放在一个中心位置, 使用它处理你所有的消息是一个好习惯.
如果你想根据用户的权限自定义 MiniMessage 的情况则是一个例外 (例如, 管理员应该被允许在消息中使用颜色和装饰, 普通用户则不能)</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="book.html" class="btn btn-neutral float-left" title="书本" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="platform/index.html" class="btn btn-neutral float-right" title="平台" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2020-2021, KyoriPowered.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>